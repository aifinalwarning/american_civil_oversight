<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Democracy Quest | Civic Mastery Platform</title>
    <meta name="description" content="Master democratic participation through gamified learning. Track legislation, earn civic XP, unlock achievements, and level up your citizenship.">
    
    <!--
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    DEMOCRACY QUEST - Gamified Civic Oversight Platform
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    MULTI-PHD DESIGN PHILOSOPHY:
    
    ğŸ“ Political Science: Applies Putnam's social capital theory - civic engagement 
       creates trust networks. Gamification builds "bridging capital" through shared goals.
    
    ğŸ“ Behavioral Economics: Uses Kahneman's System 1/2 thinking - complex policy 
       simplified to intuitive visual cues (risk colors, progress bars) while 
       preserving analytical depth for engaged users.
    
    ğŸ“ Game Studies: Implements Csikszentmihalyi's flow theory - difficulty scales 
       with user expertise. Beginners see simplified views; experts unlock complexity.
    
    ğŸ“ Information Science: Follows Shneiderman's Visual Information Seeking Mantra:
       Overview first, zoom and filter, details on demand.
    
    ğŸ“ Cognitive Psychology: Leverages spaced repetition and progressive disclosure
       to prevent cognitive overload while building lasting civic knowledge.
    
    ZERO TRACKING | LOCAL STORAGE ONLY | OPEN SOURCE | CC BY-SA 4.0
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -->
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Spectral:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DESIGN SYSTEM: "Democratic Constellation"
           Aesthetic: Celestial cartography meets civic architecture
           Philosophy: Citizens as stars forming constellations of collective action
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        :root {
            /* Cosmic palette - democracy as celestial navigation */
            --void: #030712;
            --nebula-deep: #0c1222;
            --nebula: #111827;
            --stellar-dust: #1e293b;
            --cosmic-gray: #334155;
            --starlight: #f1f5f9;
            --moonbeam: #cbd5e1;
            --comet-trail: #94a3b8;
            
            /* Domain constellation colors */
            --earth-glow: #34d399;      /* Environmental */
            --earth-dim: rgba(52, 211, 153, 0.15);
            --pulse-blue: #60a5fa;      /* Healthcare */
            --pulse-dim: rgba(96, 165, 250, 0.15);
            --torch-amber: #fbbf24;     /* Civil Liberties */
            --torch-dim: rgba(251, 191, 36, 0.15);
            --forge-violet: #a78bfa;    /* Economic */
            --forge-dim: rgba(167, 139, 250, 0.15);
            
            /* Risk aurora spectrum */
            --aurora-critical: #f43f5e;
            --aurora-high: #fb923c;
            --aurora-moderate: #facc15;
            --aurora-low: #4ade80;
            --aurora-neutral: #64748b;
            
            /* XP & Achievement gold */
            --xp-gold: #fcd34d;
            --xp-glow: rgba(252, 211, 77, 0.3);
            --achievement-bronze: #cd7f32;
            --achievement-silver: #c0c0c0;
            --achievement-gold: #ffd700;
            --achievement-platinum: #e5e4e2;
            
            /* Accent nebula */
            --accent-cyan: #22d3ee;
            --accent-glow: rgba(34, 211, 238, 0.2);
            
            /* Typography constellation */
            --font-display: 'Spectral', Georgia, serif;
            --font-body: 'Space Grotesk', system-ui, sans-serif;
            --font-mono: 'JetBrains Mono', 'Consolas', monospace;
            
            /* Spatial harmony (golden ratio inspired) */
            --space-quantum: 0.25rem;
            --space-atom: 0.5rem;
            --space-molecule: 1rem;
            --space-cell: 1.618rem;
            --space-organ: 2.618rem;
            --space-system: 4.236rem;
            
            /* Orbital radii */
            --radius-tight: 6px;
            --radius-normal: 12px;
            --radius-relaxed: 20px;
            --radius-orbital: 9999px;
            
            /* Gravitational shadows */
            --shadow-hover: 0 4px 20px rgba(0,0,0,0.4);
            --shadow-float: 0 8px 40px rgba(0,0,0,0.5);
            --shadow-glow-cyan: 0 0 30px rgba(34, 211, 238, 0.3);
            --shadow-glow-gold: 0 0 20px rgba(252, 211, 77, 0.4);
        }
        
        /* Reset & Base */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        
        html { 
            scroll-behavior: smooth; 
            -webkit-font-smoothing: antialiased;
            font-size: 16px;
        }
        
        body {
            font-family: var(--font-body);
            background: var(--void);
            color: var(--starlight);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CELESTIAL BACKGROUND - Constellation particle system
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        #constellation-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: 0;
            pointer-events: none;
        }
        
        .nebula-gradient {
            position: fixed;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 20% 30%, rgba(52, 211, 153, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 70%, rgba(96, 165, 250, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse 100% 80% at 50% 100%, rgba(167, 139, 250, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(34, 211, 238, 0.03) 0%, transparent 60%);
            z-index: 1;
            pointer-events: none;
        }
        
        .app-container {
            position: relative;
            z-index: 2;
            min-height: 100vh;
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CIVIC STATUS BAR - Always-visible progress tracker
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .civic-status-bar {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: var(--nebula);
            z-index: 1000;
            overflow: hidden;
        }
        
        .xp-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--earth-glow), var(--accent-cyan), var(--xp-gold));
            background-size: 200% 100%;
            animation: xpShimmer 3s ease-in-out infinite;
            transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        @keyframes xpShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HEADER - Navigation constellation
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .main-header {
            position: sticky;
            top: 4px;
            z-index: 100;
            background: rgba(12, 18, 34, 0.85);
            backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .header-content {
            max-width: 1800px;
            margin: 0 auto;
            padding: var(--space-molecule) var(--space-cell);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-cell);
        }
        
        .logo-cluster {
            display: flex;
            align-items: center;
            gap: var(--space-molecule);
        }
        
        .logo-emblem {
            width: 52px; height: 52px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--earth-glow));
            border-radius: var(--radius-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-glow-cyan);
            position: relative;
            overflow: hidden;
        }
        
        .logo-emblem::before {
            content: '';
            position: absolute;
            inset: 2px;
            background: var(--nebula-deep);
            border-radius: calc(var(--radius-normal) - 2px);
        }
        
        .logo-emblem svg {
            position: relative;
            width: 28px; height: 28px;
            stroke: var(--accent-cyan);
            fill: none;
            stroke-width: 1.5;
        }
        
        .logo-text {
            display: flex;
            flex-direction: column;
        }
        
        .logo-title {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--starlight), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }
        
        .logo-subtitle {
            font-size: 0.7rem;
            color: var(--comet-trail);
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-weight: 500;
        }
        
        /* Player Stats Mini Display */
        .player-stats-mini {
            display: flex;
            align-items: center;
            gap: var(--space-cell);
            padding: var(--space-atom) var(--space-molecule);
            background: var(--stellar-dust);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: var(--radius-orbital);
        }
        
        .stat-mini {
            display: flex;
            align-items: center;
            gap: var(--space-atom);
            font-size: 0.85rem;
        }
        
        .stat-mini-icon {
            width: 20px; height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stat-mini-icon.xp { color: var(--xp-gold); }
        .stat-mini-icon.level { color: var(--accent-cyan); }
        .stat-mini-icon.streak { color: var(--aurora-high); }
        
        .stat-mini-value {
            font-family: var(--font-mono);
            font-weight: 600;
            color: var(--starlight);
        }
        
        .stat-mini-label {
            color: var(--comet-trail);
            font-size: 0.75rem;
        }
        
        /* Navigation */
        .nav-constellation {
            display: flex;
            align-items: center;
            gap: var(--space-quantum);
        }
        
        .nav-star {
            position: relative;
            padding: var(--space-atom) var(--space-molecule);
            color: var(--moonbeam);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            border-radius: var(--radius-tight);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: var(--space-atom);
        }
        
        .nav-star svg { width: 18px; height: 18px; }
        
        .nav-star:hover {
            color: var(--starlight);
            background: rgba(148, 163, 184, 0.1);
        }
        
        .nav-star.active {
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(52, 211, 153, 0.1));
            color: var(--accent-cyan);
        }
        
        .nav-star.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 2px;
            background: var(--accent-cyan);
            border-radius: 1px;
        }
        
        .nav-badge {
            position: absolute;
            top: 2px; right: 2px;
            min-width: 16px; height: 16px;
            background: var(--aurora-critical);
            border-radius: var(--radius-orbital);
            font-size: 0.65rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 4px;
            animation: badgePulse 2s ease-in-out infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN CONTENT AREA
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .main-content {
            max-width: 1800px;
            margin: 0 auto;
            padding: var(--space-cell);
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           HERO - Onboarding & Level Display
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .hero-section {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: var(--space-organ);
            margin-bottom: var(--space-organ);
        }
        
        @media (max-width: 1200px) {
            .hero-section { grid-template-columns: 1fr; }
        }
        
        .hero-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .hero-eyebrow {
            display: inline-flex;
            align-items: center;
            gap: var(--space-atom);
            padding: var(--space-atom) var(--space-molecule);
            background: var(--torch-dim);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: var(--radius-orbital);
            font-size: 0.8rem;
            color: var(--torch-amber);
            width: fit-content;
            margin-bottom: var(--space-molecule);
        }
        
        .hero-eyebrow svg { width: 14px; height: 14px; }
        
        .hero-title {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            line-height: 1.1;
            letter-spacing: -0.03em;
            margin-bottom: var(--space-molecule);
        }
        
        .hero-title .gradient-text {
            background: linear-gradient(135deg, var(--accent-cyan), var(--earth-glow), var(--xp-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-description {
            font-size: 1.15rem;
            color: var(--moonbeam);
            max-width: 600px;
            margin-bottom: var(--space-cell);
            line-height: 1.7;
        }
        
        .hero-cta-group {
            display: flex;
            gap: var(--space-molecule);
            flex-wrap: wrap;
        }
        
        .cta-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-atom);
            padding: var(--space-molecule) var(--space-cell);
            border-radius: var(--radius-normal);
            font-size: 0.95rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
        }
        
        .cta-btn svg { width: 18px; height: 18px; }
        
        .cta-btn.primary {
            background: linear-gradient(135deg, var(--accent-cyan), var(--earth-glow));
            color: var(--void);
            box-shadow: var(--shadow-glow-cyan);
        }
        
        .cta-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 40px rgba(34, 211, 238, 0.5);
        }
        
        .cta-btn.secondary {
            background: var(--stellar-dust);
            color: var(--starlight);
            border: 1px solid rgba(148, 163, 184, 0.2);
        }
        
        .cta-btn.secondary:hover {
            background: var(--cosmic-gray);
            border-color: rgba(148, 163, 184, 0.3);
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PLAYER CARD - Gamification Hub
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .player-card {
            background: linear-gradient(135deg, var(--nebula) 0%, var(--stellar-dust) 100%);
            border: 1px solid rgba(148, 163, 184, 0.15);
            border-radius: var(--radius-relaxed);
            padding: var(--space-cell);
            position: relative;
            overflow: hidden;
        }
        
        .player-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--earth-glow), var(--xp-gold));
        }
        
        .player-header {
            display: flex;
            align-items: center;
            gap: var(--space-molecule);
            margin-bottom: var(--space-cell);
        }
        
        .player-avatar {
            width: 64px; height: 64px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--forge-violet));
            border-radius: var(--radius-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--void);
            position: relative;
        }
        
        .player-avatar-badge {
            position: absolute;
            bottom: -4px; right: -4px;
            width: 24px; height: 24px;
            background: var(--xp-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 700;
            color: var(--void);
            border: 2px solid var(--nebula);
        }
        
        .player-info h3 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 2px;
        }
        
        .player-rank {
            display: flex;
            align-items: center;
            gap: var(--space-atom);
            font-size: 0.85rem;
            color: var(--accent-cyan);
        }
        
        .player-rank svg { width: 14px; height: 14px; }
        
        /* XP Progress */
        .xp-section {
            margin-bottom: var(--space-cell);
        }
        
        .xp-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: var(--space-atom);
        }
        
        .xp-label {
            font-size: 0.8rem;
            color: var(--comet-trail);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .xp-values {
            font-family: var(--font-mono);
            font-size: 0.85rem;
        }
        
        .xp-current { color: var(--xp-gold); font-weight: 600; }
        .xp-divider { color: var(--comet-trail); }
        .xp-needed { color: var(--moonbeam); }
        
        .xp-bar {
            height: 8px;
            background: var(--nebula-deep);
            border-radius: var(--radius-orbital);
            overflow: hidden;
            position: relative;
        }
        
        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--xp-gold), var(--torch-amber));
            border-radius: var(--radius-orbital);
            transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
        }
        
        .xp-fill::after {
            content: '';
            position: absolute;
            top: 0; right: 0;
            width: 20px; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3));
        }
        
        /* Stats Grid */
        .stats-grid-mini {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-atom);
            margin-bottom: var(--space-cell);
        }
        
        .stat-box {
            background: var(--nebula-deep);
            border-radius: var(--radius-tight);
            padding: var(--space-molecule);
            text-align: center;
        }
        
        .stat-box-value {
            font-family: var(--font-mono);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--starlight);
            line-height: 1;
            margin-bottom: 2px;
        }
        
        .stat-box-label {
            font-size: 0.7rem;
            color: var(--comet-trail);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        /* Recent Achievements */
        .achievements-preview {
            border-top: 1px solid rgba(148, 163, 184, 0.1);
            padding-top: var(--space-molecule);
        }
        
        .achievements-title {
            font-size: 0.75rem;
            color: var(--comet-trail);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: var(--space-atom);
        }
        
        .achievement-row {
            display: flex;
            gap: var(--space-atom);
        }
        
        .achievement-badge {
            width: 40px; height: 40px;
            border-radius: var(--radius-tight);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .achievement-badge:hover { transform: scale(1.1); }
        
        .achievement-badge.bronze { background: linear-gradient(135deg, #cd7f32, #8b4513); }
        .achievement-badge.silver { background: linear-gradient(135deg, #c0c0c0, #808080); }
        .achievement-badge.gold { background: linear-gradient(135deg, #ffd700, #b8860b); }
        .achievement-badge.locked { background: var(--stellar-dust); opacity: 0.5; }
        
        .achievement-badge svg { width: 20px; height: 20px; color: white; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MISSION CONTROL - Main Dashboard Grid
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .mission-control {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: var(--space-cell);
            margin-bottom: var(--space-organ);
        }
        
        @media (max-width: 1200px) {
            .mission-control { grid-template-columns: 1fr; }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DAILY QUESTS Panel
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .quests-panel {
            background: var(--nebula);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: var(--radius-relaxed);
            overflow: hidden;
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-molecule) var(--space-cell);
            background: linear-gradient(90deg, var(--stellar-dust), var(--nebula));
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }
        
        .panel-title {
            display: flex;
            align-items: center;
            gap: var(--space-atom);
            font-family: var(--font-display);
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .panel-title svg { width: 20px; height: 20px; color: var(--xp-gold); }
        
        .quest-timer {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--comet-trail);
            display: flex;
            align-items: center;
            gap: var(--space-atom);
        }
        
        .quest-timer svg { width: 14px; height: 14px; }
        
        .quests-list {
            padding: var(--space-molecule);
            display: flex;
            flex-direction: column;
            gap: var(--space-atom);
        }
        
        .quest-item {
            display: flex;
            align-items: center;
            gap: var(--space-molecule);
            padding: var(--space-molecule);
            background: var(--stellar-dust);
            border-radius: var(--radius-normal);
            border: 1px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .quest-item:hover {
            border-color: rgba(148, 163, 184, 0.2);
            transform: translateX(4px);
        }
        
        .quest-item.completed {
            opacity: 0.6;
            background: var(--earth-dim);
        }
        
        .quest-checkbox {
            width: 24px; height: 24px;
            border: 2px solid var(--cosmic-gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }
        
        .quest-item.completed .quest-checkbox {
            background: var(--earth-glow);
            border-color: var(--earth-glow);
        }
        
        .quest-checkbox svg { width: 14px; height: 14px; color: white; opacity: 0; }
        .quest-item.completed .quest-checkbox svg { opacity: 1; }
        
        .quest-content { flex: 1; }
        
        .quest-title {
            font-size: 0.95rem;
            font-weight: 500;
            margin-bottom: 2px;
        }
        
        .quest-item.completed .quest-title {
            text-decoration: line-through;
            color: var(--comet-trail);
        }
        
        .quest-desc {
            font-size: 0.8rem;
            color: var(--comet-trail);
        }
        
        .quest-xp {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: var(--space-quantum) var(--space-atom);
            background: var(--xp-glow);
            border-radius: var(--radius-orbital);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--xp-gold);
        }
        
        .quest-xp svg { width: 12px; height: 12px; }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LEGISLATION FEED - The Main Event
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .legislation-section {
            margin-bottom: var(--space-organ);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-cell);
            flex-wrap: wrap;
            gap: var(--space-molecule);
        }
        
        .section-title {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: var(--space-atom);
        }
        
        .section-title svg { width: 28px; height: 28px; color: var(--accent-cyan); }
        
        .filter-strip {
            display: flex;
            gap: var(--space-atom);
            flex-wrap: wrap;
        }
        
        .filter-chip {
            padding: var(--space-atom) var(--space-molecule);
            background: var(--stellar-dust);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: var(--radius-orbital);
            font-size: 0.85rem;
            color: var(--moonbeam);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: var(--space-quantum);
        }
        
        .filter-chip:hover {
            border-color: rgba(148, 163, 184, 0.3);
            color: var(--starlight);
        }
        
        .filter-chip.active {
            background: var(--accent-cyan);
            border-color: var(--accent-cyan);
            color: var(--void);
        }
        
        .filter-chip .count {
            font-family: var(--font-mono);
            font-size: 0.75rem;
            opacity: 0.8;
        }
        
        /* Legislation Cards */
        .legislation-grid {
            display: flex;
            flex-direction: column;
            gap: var(--space-molecule);
        }
        
        .bill-card {
            background: var(--nebula);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: var(--radius-relaxed);
            padding: var(--space-cell);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .bill-card:hover {
            border-color: rgba(148, 163, 184, 0.2);
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        .bill-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; bottom: 0;
            width: 4px;
        }
        
        .bill-card.risk-critical::before { background: var(--aurora-critical); }
        .bill-card.risk-high::before { background: var(--aurora-high); }
        .bill-card.risk-moderate::before { background: var(--aurora-moderate); }
        .bill-card.risk-low::before { background: var(--aurora-low); }
        .bill-card.risk-neutral::before { background: var(--aurora-neutral); }
        
        .bill-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: var(--space-molecule);
            margin-bottom: var(--space-molecule);
        }
        
        .bill-id {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--accent-cyan);
            margin-bottom: 4px;
        }
        
        .bill-title {
            font-size: 1.1rem;
            font-weight: 600;
            line-height: 1.35;
            margin-bottom: var(--space-atom);
        }
        
        .bill-type-badge {
            padding: 4px 10px;
            border-radius: var(--radius-tight);
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            flex-shrink: 0;
        }
        
        .bill-type-badge.bill {
            background: var(--pulse-dim);
            color: var(--pulse-blue);
            border: 1px solid rgba(96, 165, 250, 0.3);
        }
        
        .bill-type-badge.executive-order {
            background: var(--torch-dim);
            color: var(--torch-amber);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }
        
        .bill-type-badge.rule {
            background: var(--forge-dim);
            color: var(--forge-violet);
            border: 1px solid rgba(167, 139, 250, 0.3);
        }
        
        .bill-summary {
            font-size: 0.9rem;
            color: var(--moonbeam);
            line-height: 1.6;
            margin-bottom: var(--space-molecule);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Risk Meter - Simplified visual */
        .risk-meter {
            display: flex;
            align-items: center;
            gap: var(--space-molecule);
            padding: var(--space-molecule);
            background: var(--stellar-dust);
            border-radius: var(--radius-normal);
            margin-bottom: var(--space-molecule);
        }
        
        .risk-dial {
            width: 56px; height: 56px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
        }
        
        .risk-dial::before {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: var(--nebula);
        }
        
        .risk-dial.critical { background: conic-gradient(var(--aurora-critical) 0%, var(--aurora-critical) 100%); }
        .risk-dial.high { background: conic-gradient(var(--aurora-high) 0%, var(--aurora-high) 100%); }
        .risk-dial.moderate { background: conic-gradient(var(--aurora-moderate) 0%, var(--aurora-moderate) 100%); }
        .risk-dial.low { background: conic-gradient(var(--aurora-low) 0%, var(--aurora-low) 100%); }
        .risk-dial.neutral { background: var(--cosmic-gray); }
        
        .risk-score {
            position: relative;
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--starlight);
            line-height: 1;
        }
        
        .risk-label {
            position: relative;
            font-size: 0.55rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--comet-trail);
        }
        
        .domain-bars {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-atom);
        }
        
        .domain-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }
        
        .domain-bar-track {
            width: 100%;
            height: 4px;
            background: var(--nebula-deep);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .domain-bar-fill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        .domain-bar-fill.env { background: var(--earth-glow); }
        .domain-bar-fill.health { background: var(--pulse-blue); }
        .domain-bar-fill.civil { background: var(--torch-amber); }
        .domain-bar-fill.econ { background: var(--forge-violet); }
        
        .domain-bar-label {
            font-size: 0.65rem;
            color: var(--comet-trail);
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }
        
        /* Bill Footer */
        .bill-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--space-molecule);
        }
        
        .bill-tags {
            display: flex;
            gap: var(--space-quantum);
            flex-wrap: wrap;
        }
        
        .bill-tag {
            padding: 2px 8px;
            border-radius: var(--radius-tight);
            font-size: 0.7rem;
            font-weight: 500;
        }
        
        .bill-tag.env { background: var(--earth-dim); color: var(--earth-glow); }
        .bill-tag.health { background: var(--pulse-dim); color: var(--pulse-blue); }
        .bill-tag.civil { background: var(--torch-dim); color: var(--torch-amber); }
        .bill-tag.econ { background: var(--forge-dim); color: var(--forge-violet); }
        
        .bill-actions {
            display: flex;
            gap: var(--space-atom);
        }
        
        .bill-action-btn {
            padding: var(--space-atom) var(--space-molecule);
            background: var(--cosmic-gray);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: var(--radius-tight);
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--moonbeam);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: var(--space-quantum);
            text-decoration: none;
        }
        
        .bill-action-btn:hover {
            background: var(--stellar-dust);
            color: var(--starlight);
        }
        
        .bill-action-btn.primary {
            background: var(--accent-cyan);
            border-color: var(--accent-cyan);
            color: var(--void);
        }
        
        .bill-action-btn.primary:hover {
            background: var(--earth-glow);
            border-color: var(--earth-glow);
        }
        
        .bill-action-btn svg { width: 14px; height: 14px; }
        
        /* XP Award Animation */
        .xp-award {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 2px 8px;
            background: var(--xp-glow);
            border-radius: var(--radius-orbital);
            font-family: var(--font-mono);
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--xp-gold);
            animation: xpFloat 0.5s ease-out;
        }
        
        @keyframes xpFloat {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SIDEBAR - Knowledge & Community
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .sidebar-stack {
            display: flex;
            flex-direction: column;
            gap: var(--space-cell);
        }
        
        .sidebar-card {
            background: var(--nebula);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: var(--radius-relaxed);
            padding: var(--space-cell);
        }
        
        .sidebar-card-header {
            display: flex;
            align-items: center;
            gap: var(--space-atom);
            margin-bottom: var(--space-molecule);
        }
        
        .sidebar-card-header svg {
            width: 20px; height: 20px;
            color: var(--accent-cyan);
        }
        
        .sidebar-card-title {
            font-family: var(--font-display);
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        /* Domain Risk Overview */
        .domain-overview {
            display: flex;
            flex-direction: column;
            gap: var(--space-molecule);
        }
        
        .domain-row {
            display: flex;
            flex-direction: column;
            gap: var(--space-quantum);
        }
        
        .domain-row-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .domain-row-label {
            display: flex;
            align-items: center;
            gap: var(--space-atom);
            font-size: 0.85rem;
            color: var(--moonbeam);
        }
        
        .domain-dot {
            width: 8px; height: 8px;
            border-radius: 50%;
        }
        
        .domain-dot.env { background: var(--earth-glow); }
        .domain-dot.health { background: var(--pulse-blue); }
        .domain-dot.civil { background: var(--torch-amber); }
        .domain-dot.econ { background: var(--forge-violet); }
        
        .domain-row-value {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .domain-row-track {
            height: 6px;
            background: var(--stellar-dust);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .domain-row-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        .domain-row-fill.env { background: var(--earth-glow); }
        .domain-row-fill.health { background: var(--pulse-blue); }
        .domain-row-fill.civil { background: var(--torch-amber); }
        .domain-row-fill.econ { background: var(--forge-violet); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FOOTER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        .main-footer {
            background: var(--nebula);
            border-top: 1px solid rgba(148, 163, 184, 0.1);
            padding: var(--space-organ) var(--space-cell);
            margin-top: var(--space-system);
        }
        
        .footer-content {
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .zero-harm-banner {
            background: linear-gradient(90deg, var(--earth-dim), var(--stellar-dust));
            border: 1px solid rgba(52, 211, 153, 0.2);
            border-radius: var(--radius-normal);
            padding: var(--space-cell);
            margin-bottom: var(--space-cell);
        }
        
        .zero-harm-banner h4 {
            display: flex;
            align-items: center;
            gap: var(--space-atom);
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--earth-glow);
            margin-bottom: var(--space-atom);
        }
        
        .zero-harm-banner h4 svg { width: 18px; height: 18px; }
        
        .zero-harm-banner p {
            font-size: 0.85rem;
            color: var(--moonbeam);
            line-height: 1.7;
        }
        
        .footer-bottom {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--space-molecule);
            padding-top: var(--space-cell);
            border-top: 1px solid rgba(148, 163, 184, 0.1);
            font-size: 0.85rem;
            color: var(--comet-trail);
        }
        
        .footer-bottom a {
            color: var(--moonbeam);
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .footer-bottom a:hover { color: var(--starlight); }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        @media (max-width: 900px) {
            .header-content { flex-wrap: wrap; }
            .player-stats-mini { display: none; }
            .nav-star span { display: none; }
            .hero-section { grid-template-columns: 1fr; }
            .mission-control { grid-template-columns: 1fr; }
            .domain-bars { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 600px) {
            .main-content { padding: var(--space-molecule); }
            .logo-text { display: none; }
            .hero-title { font-size: 2rem; }
            .bill-header { flex-direction: column; gap: var(--space-atom); }
            .bill-footer { flex-direction: column; align-items: flex-start; }
        }
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ACCESSIBILITY
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
            #constellation-canvas { display: none; }
        }
        
        :focus-visible {
            outline: 2px solid var(--accent-cyan);
            outline-offset: 2px;
        }
        
        .sr-only {
            position: absolute;
            width: 1px; height: 1px;
            padding: 0; margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
        
        .skip-link {
            position: absolute;
            top: -100px; left: 0;
            background: var(--accent-cyan);
            color: var(--void);
            padding: var(--space-atom) var(--space-molecule);
            z-index: 10000;
            transition: top 0.2s ease;
        }
        
        .skip-link:focus { top: 0; }
    </style>
</head>
<body>
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <!-- XP Progress Bar -->
    <div class="civic-status-bar">
        <div class="xp-progress" id="xp-progress" style="width: 35%;" aria-label="Experience progress: 35%"></div>
    </div>
    
    <!-- Constellation Background -->
    <canvas id="constellation-canvas" aria-hidden="true"></canvas>
    <div class="nebula-gradient" aria-hidden="true"></div>
    
    <div class="app-container">
        <header class="main-header">
            <div class="header-content">
                <div class="logo-cluster">
                    <div class="logo-emblem">
                        <svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                    </div>
                    <div class="logo-text">
                        <span class="logo-title">Democracy Quest</span>
                        <span class="logo-subtitle">Civic Mastery Platform</span>
                    </div>
                </div>
                
                <div class="player-stats-mini">
                    <div class="stat-mini">
                        <span class="stat-mini-icon xp"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                        <span class="stat-mini-value" id="header-xp">1,250</span>
                        <span class="stat-mini-label">XP</span>
                    </div>
                    <div class="stat-mini">
                        <span class="stat-mini-icon level"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg></span>
                        <span class="stat-mini-value" id="header-level">5</span>
                        <span class="stat-mini-label">Level</span>
                    </div>
                    <div class="stat-mini">
                        <span class="stat-mini-icon streak"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></span>
                        <span class="stat-mini-value" id="header-streak">7</span>
                        <span class="stat-mini-label">Day Streak</span>
                    </div>
                </div>
                
                <nav class="nav-constellation">
                    <a href="index.html" class="nav-star active">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="9"/><rect x="14" y="3" width="7" height="5"/><rect x="14" y="12" width="7" height="9"/><rect x="3" y="16" width="7" height="5"/></svg>
                        <span>Command</span>
                    </a>
                    <a href="academy.html" class="nav-star">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                        <span>Academy</span>
                        <span class="nav-badge">3</span>
                    </a>
                    <a href="action-hub.html" class="nav-star">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                        <span>Action</span>
                    </a>
                    <a href="achievements.html" class="nav-star">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                        <span>Achievements</span>
                    </a>
                </nav>
            </div>
        </header>
        
        <main class="main-content" id="main">
            <!-- Hero Section -->
            <section class="hero-section">
                <div class="hero-content">
                    <div class="hero-eyebrow">
                        <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        New Quest Available: Track Your First Bill
                    </div>
                    <h1 class="hero-title">
                        Master <span class="gradient-text">Democracy</span><br>
                        Through Action
                    </h1>
                    <p class="hero-description">
                        Track federal legislation, earn XP for civic engagement, unlock achievements, 
                        and level up your citizenship. Your democracy superpower awaits.
                    </p>
                    <div class="hero-cta-group">
                        <button class="cta-btn primary" id="start-tutorial-btn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                            Start Tutorial (+100 XP)
                        </button>
                        <a href="academy.html" class="cta-btn secondary">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                            Explore Academy
                        </a>
                    </div>
                </div>
                
                <!-- Player Card -->
                <div class="player-card">
                    <div class="player-header">
                        <div class="player-avatar">
                            <span>C</span>
                            <span class="player-avatar-badge">5</span>
                        </div>
                        <div class="player-info">
                            <h3>Civic Champion</h3>
                            <div class="player-rank">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                Informed Observer
                            </div>
                        </div>
                    </div>
                    
                    <div class="xp-section">
                        <div class="xp-header">
                            <span class="xp-label">Progress to Level 6</span>
                            <span class="xp-values">
                                <span class="xp-current">1,250</span>
                                <span class="xp-divider">/</span>
                                <span class="xp-needed">2,000 XP</span>
                            </span>
                        </div>
                        <div class="xp-bar">
                            <div class="xp-fill" style="width: 62.5%;"></div>
                        </div>
                    </div>
                    
                    <div class="stats-grid-mini">
                        <div class="stat-box">
                            <div class="stat-box-value" id="bills-tracked">12</div>
                            <div class="stat-box-label">Bills Tracked</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-box-value" id="actions-taken">5</div>
                            <div class="stat-box-label">Actions Taken</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-box-value" id="lessons-done">8</div>
                            <div class="stat-box-label">Lessons Done</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-box-value" id="day-streak">7</div>
                            <div class="stat-box-label">Day Streak</div>
                        </div>
                    </div>
                    
                    <div class="achievements-preview">
                        <div class="achievements-title">Recent Achievements</div>
                        <div class="achievement-row">
                            <div class="achievement-badge bronze" title="First Bill Tracked">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                            </div>
                            <div class="achievement-badge silver" title="Knowledge Seeker - 5 Lessons">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                            </div>
                            <div class="achievement-badge gold" title="Week Warrior - 7 Day Streak">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                            </div>
                            <div class="achievement-badge locked" title="Locked: Voice of the People">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            </div>
                            <div class="achievement-badge locked" title="Locked: Master Citizen">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Mission Control -->
            <section class="mission-control">
                <!-- Daily Quests -->
                <div class="quests-panel">
                    <div class="panel-header">
                        <div class="panel-title">
                            <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                            Daily Quests
                        </div>
                        <div class="quest-timer">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            Resets in 14h 23m
                        </div>
                    </div>
                    <div class="quests-list" id="quests-list">
                        <div class="quest-item completed" data-quest="read-bill">
                            <div class="quest-checkbox">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                            </div>
                            <div class="quest-content">
                                <div class="quest-title">Read a Bill Summary</div>
                                <div class="quest-desc">Review the summary of any tracked legislation</div>
                            </div>
                            <div class="quest-xp">
                                <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                +25 XP
                            </div>
                        </div>
                        <div class="quest-item" data-quest="check-risk">
                            <div class="quest-checkbox">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                            </div>
                            <div class="quest-content">
                                <div class="quest-title">Analyze Risk Scores</div>
                                <div class="quest-desc">View the detailed risk breakdown for 3 bills</div>
                            </div>
                            <div class="quest-xp">
                                <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                +50 XP
                            </div>
                        </div>
                        <div class="quest-item" data-quest="learn-lesson">
                            <div class="quest-checkbox">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                            </div>
                            <div class="quest-content">
                                <div class="quest-title">Complete a Lesson</div>
                                <div class="quest-desc">Finish any lesson in the Civic Academy</div>
                            </div>
                            <div class="quest-xp">
                                <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                +75 XP
                            </div>
                        </div>
                        <div class="quest-item" data-quest="take-action">
                            <div class="quest-checkbox">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                            </div>
                            <div class="quest-content">
                                <div class="quest-title">Take Civic Action</div>
                                <div class="quest-desc">Contact a representative or submit a comment</div>
                            </div>
                            <div class="quest-xp">
                                <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                +100 XP
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Sidebar -->
                <div class="sidebar-stack">
                    <!-- Domain Risk Overview -->
                    <div class="sidebar-card">
                        <div class="sidebar-card-header">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
                            <span class="sidebar-card-title">Current Risk Levels</span>
                        </div>
                        <div class="domain-overview">
                            <div class="domain-row">
                                <div class="domain-row-header">
                                    <span class="domain-row-label"><span class="domain-dot env"></span>Environmental</span>
                                    <span class="domain-row-value" style="color: var(--earth-glow);">78%</span>
                                </div>
                                <div class="domain-row-track"><div class="domain-row-fill env" style="width: 78%;"></div></div>
                            </div>
                            <div class="domain-row">
                                <div class="domain-row-header">
                                    <span class="domain-row-label"><span class="domain-dot health"></span>Healthcare</span>
                                    <span class="domain-row-value" style="color: var(--pulse-blue);">65%</span>
                                </div>
                                <div class="domain-row-track"><div class="domain-row-fill health" style="width: 65%;"></div></div>
                            </div>
                            <div class="domain-row">
                                <div class="domain-row-header">
                                    <span class="domain-row-label"><span class="domain-dot civil"></span>Civil Liberties</span>
                                    <span class="domain-row-value" style="color: var(--torch-amber);">52%</span>
                                </div>
                                <div class="domain-row-track"><div class="domain-row-fill civil" style="width: 52%;"></div></div>
                            </div>
                            <div class="domain-row">
                                <div class="domain-row-header">
                                    <span class="domain-row-label"><span class="domain-dot econ"></span>Economic</span>
                                    <span class="domain-row-value" style="color: var(--forge-violet);">71%</span>
                                </div>
                                <div class="domain-row-track"><div class="domain-row-fill econ" style="width: 71%;"></div></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Tips -->
                    <div class="sidebar-card">
                        <div class="sidebar-card-header">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                            <span class="sidebar-card-title">Pro Tips</span>
                        </div>
                        <div style="font-size: 0.9rem; color: var(--moonbeam); line-height: 1.7;">
                            <p style="margin-bottom: var(--space-molecule);"><strong style="color: var(--xp-gold);">ğŸ¯ Tip:</strong> Risk scores show impact magnitude, not whether something is "good" or "bad." High environmental risk could mean a bill helps OR harms the environment.</p>
                            <p><strong style="color: var(--accent-cyan);">ğŸ“ Action Bonus:</strong> Phone calls to representatives earn 2x XP compared to emails!</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Legislation Feed -->
            <section class="legislation-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                        Active Legislation
                    </h2>
                    <div class="filter-strip">
                        <button class="filter-chip active" data-filter="all">All <span class="count">9</span></button>
                        <button class="filter-chip" data-filter="bill">Bills <span class="count">5</span></button>
                        <button class="filter-chip" data-filter="executive-order">Exec Orders <span class="count">1</span></button>
                        <button class="filter-chip" data-filter="rule">Rules <span class="count">3</span></button>
                    </div>
                </div>
                
                <div class="legislation-grid" id="legislation-grid">
                    <!-- Cards will be populated by JavaScript -->
                </div>
            </section>
        </main>
        
        <footer class="main-footer">
            <div class="footer-content">
                <div class="zero-harm-banner">
                    <h4>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                        Zero Harm & Anti-Coercion Commitment
                    </h4>
                    <p>Democracy Quest empowers informed civic participation without manipulation. All data is processed locallyâ€”no tracking, no surveillance, no personal data collection. XP and achievements are stored only in your browser. Risk scores are transparent and represent impact magnitude, not value judgments. This tool cannot be used for harassment or political manipulation.</p>
                </div>
                <div class="footer-bottom">
                    <span>Â© 2025 Democracy Quest. Open source for democracy.</span>
                    <span>
                        <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC BY-SA 4.0</a> â€¢ 
                        <a href="academy.html#privacy">Privacy</a> â€¢ 
                        <a href="academy.html#accessibility">Accessibility</a> â€¢ 
                        <a href="academy.html#methodology">Methodology</a>
                    </span>
                </div>
            </div>
        </footer>
    </div>

    <script>
    (function() {
        'use strict';
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // GAME STATE - All progress stored locally via localStorage
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        const DEFAULT_STATE = {
            player: {
                name: 'Civic Champion',
                level: 5,
                xp: 1250,
                xpToNext: 2000,
                streak: 7,
                lastVisit: null
            },
            stats: {
                billsTracked: 12,
                actionsTaken: 5,
                lessonsDone: 8,
                commentsSubmitted: 2,
                callsMade: 3
            },
            quests: {
                daily: {
                    'read-bill': { completed: true, xp: 25 },
                    'check-risk': { completed: false, xp: 50 },
                    'learn-lesson': { completed: false, xp: 75 },
                    'take-action': { completed: false, xp: 100 }
                },
                lastReset: null
            },
            achievements: [
                { id: 'first-bill', name: 'First Bill Tracked', unlocked: true, tier: 'bronze' },
                { id: 'knowledge-seeker', name: 'Knowledge Seeker', unlocked: true, tier: 'silver' },
                { id: 'week-warrior', name: 'Week Warrior', unlocked: true, tier: 'gold' },
                { id: 'voice-of-people', name: 'Voice of the People', unlocked: false, tier: 'gold' },
                { id: 'master-citizen', name: 'Master Citizen', unlocked: false, tier: 'platinum' }
            ],
            filters: { type: 'all' },
            tutorialCompleted: false
        };
        
        let gameState = loadGameState();
        
        function loadGameState() {
            try {
                const saved = localStorage.getItem('democracyQuestState');
                if (saved) return { ...DEFAULT_STATE, ...JSON.parse(saved) };
            } catch (e) { console.warn('Could not load game state:', e); }
            return { ...DEFAULT_STATE };
        }
        
        function saveGameState() {
            try {
                localStorage.setItem('democracyQuestState', JSON.stringify(gameState));
            } catch (e) { console.warn('Could not save game state:', e); }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // DEMO LEGISLATION DATA
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        const LEGISLATION = [
            {
                id: 'hr-1001',
                type: 'bill',
                identifier: 'H.R.1001',
                title: 'Clean Energy Innovation and Deployment Act',
                summary: 'Accelerates clean energy technology development, reduces emissions, and creates green economy jobs through federal investment and tax incentives.',
                sponsor: 'Rep. Smith, Jane [D-CA]',
                updated: '2025-02-01',
                domains: { env: 95, health: 25, civil: 10, econ: 70 },
                url: 'https://www.congress.gov/'
            },
            {
                id: 's-502',
                type: 'bill',
                identifier: 'S.502',
                title: 'Affordable Healthcare Access Expansion Act',
                summary: 'Expands healthcare coverage to uninsured Americans, strengthens consumer protections, and improves healthcare outcomes through modernized delivery.',
                sponsor: 'Sen. Johnson, Robert [D-NY]',
                updated: '2025-01-28',
                domains: { env: 5, health: 98, civil: 35, econ: 60 },
                url: 'https://www.congress.gov/'
            },
            {
                id: 'hr-888',
                type: 'bill',
                identifier: 'H.R.888',
                title: 'Digital Privacy Protection Act',
                summary: 'Establishes comprehensive data privacy rights, requires algorithmic transparency, and creates enforcement mechanisms against misuse.',
                sponsor: 'Rep. Chen, Michael [R-TX]',
                updated: '2025-02-03',
                domains: { env: 0, health: 15, civil: 95, econ: 45 },
                url: 'https://www.congress.gov/'
            },
            {
                id: 'eo-14xxx',
                type: 'executive-order',
                identifier: 'EO 14XXX',
                title: 'Strengthening American Energy Security',
                summary: 'Directs federal agencies to streamline energy project permitting while maintaining environmental safeguards and worker protections.',
                sponsor: 'The White House',
                updated: '2025-01-25',
                domains: { env: 80, health: 15, civil: 20, econ: 75 },
                url: 'https://www.federalregister.gov/'
            },
            {
                id: 'epa-2025-0001',
                type: 'rule',
                identifier: 'EPA-2025-0001',
                title: 'National Air Quality Standards Review',
                summary: 'Proposed revisions to air quality standards for particulate matter with significant implications for public health protection.',
                sponsor: 'Environmental Protection Agency',
                updated: '2025-01-20',
                domains: { env: 98, health: 88, civil: 25, econ: 55 },
                url: 'https://www.federalregister.gov/',
                commentPeriod: { closes: '2025-03-20' }
            },
            {
                id: 'hhs-2025-0042',
                type: 'rule',
                identifier: 'HHS-2025-0042',
                title: 'Medicare Payment Rates FY2026',
                summary: 'Updates Medicare reimbursement rates for hospitals, physicians, and healthcare providers for the upcoming fiscal year.',
                sponsor: 'Dept. of Health & Human Services',
                updated: '2025-01-28',
                domains: { env: 0, health: 95, civil: 20, econ: 72 },
                url: 'https://www.federalregister.gov/',
                commentPeriod: { closes: '2025-02-28' }
            },
            {
                id: 'dol-2025-0015',
                type: 'rule',
                identifier: 'DOL-2025-0015',
                title: 'Overtime Eligibility Threshold Updates',
                summary: 'Proposed changes to salary thresholds for overtime pay eligibility under the Fair Labor Standards Act.',
                sponsor: 'Dept. of Labor',
                updated: '2025-02-01',
                domains: { env: 0, health: 25, civil: 50, econ: 92 },
                url: 'https://www.federalregister.gov/',
                commentPeriod: { closes: '2025-04-01' }
            },
            {
                id: 'hr-1234',
                type: 'bill',
                identifier: 'H.R.1234',
                title: 'Small Business Tax Relief Act',
                summary: 'Provides targeted tax relief for small businesses, simplifies quarterly filing, and promotes entrepreneurship.',
                sponsor: 'Rep. Williams, Sarah [R-OH]',
                updated: '2025-01-30',
                domains: { env: 5, health: 10, civil: 10, econ: 90 },
                url: 'https://www.congress.gov/'
            },
            {
                id: 's-789',
                type: 'bill',
                identifier: 'S.789',
                title: 'Water Infrastructure and Safety Act',
                summary: 'Invests in water infrastructure, ensures safe drinking water for underserved communities, and addresses contamination.',
                sponsor: 'Sen. Garcia, Maria [D-NM]',
                updated: '2025-02-03',
                domains: { env: 88, health: 78, civil: 30, econ: 55 },
                url: 'https://www.congress.gov/'
            }
        ].map(item => {
            const score = calcRiskScore(item.domains);
            return { ...item, riskScore: score, riskLevel: getRiskLevel(score) };
        });
        
        function calcRiskScore(domains) {
            return Math.round(domains.env * 0.35 + domains.health * 0.28 + domains.civil * 0.22 + domains.econ * 0.15);
        }
        
        function getRiskLevel(score) {
            if (score >= 75) return 'critical';
            if (score >= 55) return 'high';
            if (score >= 35) return 'moderate';
            if (score >= 15) return 'low';
            return 'neutral';
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // UI RENDERING
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function renderLegislation() {
            const grid = document.getElementById('legislation-grid');
            const filter = gameState.filters.type;
            const filtered = filter === 'all' ? LEGISLATION : LEGISLATION.filter(b => b.type === filter);
            
            grid.innerHTML = filtered.map(bill => {
                const typeLabel = bill.type === 'bill' ? 'Bill' : bill.type === 'executive-order' ? 'Exec Order' : 'Rule';
                const topDomains = Object.entries(bill.domains)
                    .sort((a, b) => b[1] - a[1])
                    .filter(([_, v]) => v > 25)
                    .slice(0, 2)
                    .map(([d]) => d);
                
                return `
                <article class="bill-card risk-${bill.riskLevel}" data-id="${bill.id}">
                    <div class="bill-header">
                        <div>
                            <div class="bill-id">${esc(bill.identifier)}</div>
                            <h3 class="bill-title">${esc(bill.title)}</h3>
                        </div>
                        <span class="bill-type-badge ${bill.type}">${typeLabel}</span>
                    </div>
                    <p class="bill-summary">${esc(bill.summary)}</p>
                    
                    <div class="risk-meter">
                        <div class="risk-dial ${bill.riskLevel}">
                            <span class="risk-score">${bill.riskScore}</span>
                            <span class="risk-label">Risk</span>
                        </div>
                        <div class="domain-bars">
                            <div class="domain-bar">
                                <div class="domain-bar-track"><div class="domain-bar-fill env" style="width: ${bill.domains.env}%;"></div></div>
                                <span class="domain-bar-label">Env</span>
                            </div>
                            <div class="domain-bar">
                                <div class="domain-bar-track"><div class="domain-bar-fill health" style="width: ${bill.domains.health}%;"></div></div>
                                <span class="domain-bar-label">Health</span>
                            </div>
                            <div class="domain-bar">
                                <div class="domain-bar-track"><div class="domain-bar-fill civil" style="width: ${bill.domains.civil}%;"></div></div>
                                <span class="domain-bar-label">Rights</span>
                            </div>
                            <div class="domain-bar">
                                <div class="domain-bar-track"><div class="domain-bar-fill econ" style="width: ${bill.domains.econ}%;"></div></div>
                                <span class="domain-bar-label">Econ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bill-footer">
                        <div class="bill-tags">
                            ${topDomains.map(d => `<span class="bill-tag ${d}">${capitalize(d === 'env' ? 'Environment' : d === 'health' ? 'Healthcare' : d === 'civil' ? 'Civil Rights' : 'Economic')}</span>`).join('')}
                        </div>
                        <div class="bill-actions">
                            <a href="${bill.url}" target="_blank" rel="noopener" class="bill-action-btn primary" onclick="event.stopPropagation(); awardXP(10, 'Viewed official source');">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                View Source
                            </a>
                            ${bill.commentPeriod ? `
                                                        <a href="https://www.regulations.gov/" target="_blank" rel="noopener" class="bill-action-btn" onclick="event.stopPropagation(); awardXP(25, 'Opened comment portal');">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                                Comment
                            </a>
                            ` : ''}
                            <button class="bill-action-btn" onclick="event.stopPropagation(); trackBill('${bill.id}');">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                Track
                            </button>
                        </div>
                    </div>
                </article>
                `;
            }).join('');
            
            // Card click handlers for XP
            grid.querySelectorAll('.bill-card').forEach(card => {
                card.addEventListener('click', () => {
                    awardXP(5, 'Reviewed legislation details');
                });
            });
        }
        
        function updateFilterCounts() {
            const counts = {
                all: LEGISLATION.length,
                bill: LEGISLATION.filter(b => b.type === 'bill').length,
                'executive-order': LEGISLATION.filter(b => b.type === 'executive-order').length,
                rule: LEGISLATION.filter(b => b.type === 'rule').length
            };
            
            document.querySelectorAll('.filter-chip').forEach(chip => {
                const filter = chip.dataset.filter;
                const countEl = chip.querySelector('.count');
                if (countEl) countEl.textContent = counts[filter] || 0;
            });
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // XP & LEVELING SYSTEM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        window.awardXP = function(amount, reason) {
            gameState.player.xp += amount;
            
            // Check for level up
            while (gameState.player.xp >= gameState.player.xpToNext) {
                gameState.player.xp -= gameState.player.xpToNext;
                gameState.player.level++;
                gameState.player.xpToNext = Math.floor(gameState.player.xpToNext * 1.5);
                showToast(`ğŸ‰ Level Up! You're now Level ${gameState.player.level}!`, 'success');
            }
            
            updatePlayerUI();
            saveGameState();
            showXPPopup(amount, reason);
        };
        
        function showXPPopup(amount, reason) {
            const popup = document.createElement('div');
            popup.className = 'xp-popup';
            popup.innerHTML = `<span class="xp-amount">+${amount} XP</span><span class="xp-reason">${reason}</span>`;
            popup.style.cssText = `
                position: fixed;
                bottom: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, rgba(252,211,77,0.9), rgba(251,191,36,0.9));
                color: #030712;
                padding: 12px 24px;
                border-radius: 50px;
                font-weight: 600;
                display: flex;
                align-items: center;
                gap: 8px;
                z-index: 10000;
                animation: xpPopup 2s ease-out forwards;
                box-shadow: 0 4px 20px rgba(252,211,77,0.4);
            `;
            document.body.appendChild(popup);
            
            setTimeout(() => popup.remove(), 2000);
        }
        
        // Add animation keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes xpPopup {
                0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
                15% { opacity: 1; transform: translateX(-50%) translateY(0); }
                85% { opacity: 1; transform: translateX(-50%) translateY(0); }
                100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        `;
        document.head.appendChild(style);
        
        function updatePlayerUI() {
            // Update XP bar
            const xpPercent = (gameState.player.xp / gameState.player.xpToNext) * 100;
            document.getElementById('xp-progress').style.width = xpPercent + '%';
            
            // Update header stats
            document.getElementById('header-xp').textContent = gameState.player.xp.toLocaleString();
            document.getElementById('header-level').textContent = gameState.player.level;
            document.getElementById('header-streak').textContent = gameState.player.streak;
            
            // Update player card
            const xpFill = document.querySelector('.xp-fill');
            if (xpFill) xpFill.style.width = xpPercent + '%';
            
            const xpCurrent = document.querySelector('.xp-current');
            if (xpCurrent) xpCurrent.textContent = gameState.player.xp.toLocaleString();
            
            const xpNeeded = document.querySelector('.xp-needed');
            if (xpNeeded) xpNeeded.textContent = gameState.player.xpToNext.toLocaleString() + ' XP';
            
            // Update stat boxes
            document.getElementById('bills-tracked').textContent = gameState.stats.billsTracked;
            document.getElementById('actions-taken').textContent = gameState.stats.actionsTaken;
            document.getElementById('lessons-done').textContent = gameState.stats.lessonsDone;
            document.getElementById('day-streak').textContent = gameState.player.streak;
            
            // Update player level badge
            const badge = document.querySelector('.player-avatar-badge');
            if (badge) badge.textContent = gameState.player.level;
        }
        
        window.trackBill = function(billId) {
            gameState.stats.billsTracked++;
            awardXP(15, 'Tracked legislation');
            showToast('ğŸ“‹ Bill added to your tracking list!', 'info');
            saveGameState();
        };
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // QUEST SYSTEM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function initQuests() {
            document.querySelectorAll('.quest-item').forEach(item => {
                item.addEventListener('click', () => {
                    const questId = item.dataset.quest;
                    if (gameState.quests.daily[questId] && !gameState.quests.daily[questId].completed) {
                        completeQuest(questId, item);
                    }
                });
            });
        }
        
        function completeQuest(questId, element) {
            const quest = gameState.quests.daily[questId];
            if (!quest || quest.completed) return;
            
            quest.completed = true;
            element.classList.add('completed');
            awardXP(quest.xp, 'Quest completed!');
            saveGameState();
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FILTER SYSTEM
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function initFilters() {
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.addEventListener('click', () => {
                    document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
                    chip.classList.add('active');
                    gameState.filters.type = chip.dataset.filter;
                    renderLegislation();
                    saveGameState();
                });
            });
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CONSTELLATION CANVAS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function initConstellation() {
            const canvas = document.getElementById('constellation-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            let animationId;
            
            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            function createParticle() {
                const colors = [
                    'rgba(52, 211, 153, 0.6)',  // Earth green
                    'rgba(96, 165, 250, 0.5)',  // Pulse blue
                    'rgba(251, 191, 36, 0.4)',  // Torch amber
                    'rgba(167, 139, 250, 0.5)', // Forge violet
                    'rgba(34, 211, 238, 0.6)'   // Accent cyan
                ];
                
                return {
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.3,
                    vy: (Math.random() - 0.5) * 0.3,
                    radius: Math.random() * 2 + 0.5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    pulse: Math.random() * Math.PI * 2
                };
            }
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.pulse += 0.02;
                    
                    // Wrap around edges
                    if (p.x < 0) p.x = canvas.width;
                    if (p.x > canvas.width) p.x = 0;
                    if (p.y < 0) p.y = canvas.height;
                    if (p.y > canvas.height) p.y = 0;
                    
                    // Pulsing effect
                    const pulseRadius = p.radius * (1 + Math.sin(p.pulse) * 0.3);
                    
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, pulseRadius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                });
                
                // Draw connections
                particles.forEach((p1, i) => {
                    particles.slice(i + 1).forEach(p2 => {
                        const dist = Math.hypot(p1.x - p2.x, p1.y - p2.y);
                        if (dist < 150) {
                            ctx.beginPath();
                            ctx.moveTo(p1.x, p1.y);
                            ctx.lineTo(p2.x, p2.y);
                            ctx.strokeStyle = `rgba(34, 211, 238, ${0.1 * (1 - dist / 150)})`;
                            ctx.lineWidth = 0.5;
                            ctx.stroke();
                        }
                    });
                });
                
                animationId = requestAnimationFrame(animate);
            }
            
            // Check for reduced motion preference
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                resize();
                particles = Array(50).fill(null).map(createParticle);
                animate();
                window.addEventListener('resize', resize);
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // TOAST NOTIFICATIONS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(52, 211, 153, 0.95)' : type === 'error' ? 'rgba(244, 63, 94, 0.95)' : 'rgba(34, 211, 238, 0.95)'};
                color: #030712;
                padding: 14px 20px;
                border-radius: 12px;
                font-weight: 500;
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                max-width: 320px;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease-in forwards';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // Add toast animations
        const toastStyle = document.createElement('style');
        toastStyle.textContent = `
            @keyframes slideIn {
                from { opacity: 0; transform: translateX(100px); }
                to { opacity: 1; transform: translateX(0); }
            }
            @keyframes slideOut {
                from { opacity: 1; transform: translateX(0); }
                to { opacity: 0; transform: translateX(100px); }
            }
        `;
        document.head.appendChild(toastStyle);
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // UTILITIES
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function esc(str) {
            if (!str) return '';
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }
        
        function capitalize(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // TUTORIAL
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        document.getElementById('start-tutorial-btn')?.addEventListener('click', () => {
            if (!gameState.tutorialCompleted) {
                awardXP(100, 'Tutorial completed!');
                gameState.tutorialCompleted = true;
                saveGameState();
                showToast('ğŸ“ Welcome aboard! Tutorial complete.', 'success');
            } else {
                showToast('You\'ve already completed the tutorial!', 'info');
            }
        });
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // INITIALIZATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function init() {
            renderLegislation();
            updateFilterCounts();
            updatePlayerUI();
            initFilters();
            initQuests();
            initConstellation();
            
            // Welcome back toast
            showToast(`Welcome back, ${gameState.player.name}! ğŸŒŸ`, 'info');
        }
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    })();
    </script>
</body>
</html>
